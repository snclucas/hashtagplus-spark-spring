<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8"/>
    <title>Stashy.IO - Fast, custom RESTful endpoints for all your data</title>

    <div th:replace="fragments/meta :: meta"></div>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <link href="http://cdn.jsdelivr.net/webjars/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" media="screen"/>

    <!--==============GOOGLE FONT - OPEN SANS================= -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css"/>

    <!--============== ICON FONT FONT-AWESOME================= -->

    <link href="/css/font-awesome.css" rel="stylesheet"/>

    <!--==============MAIN CSS FOR HOSTING PAGE================= -->

    <link href="/css/style.css" rel="stylesheet" media="all"/>
    <link href="/css/messages.css" rel="stylesheet" media="all"/>

    <link href="/css/reddit.css" rel="stylesheet" media="all"/>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="/js/modernizr.js"></script>

</head>

<body>


<div th:replace="fragments/nav :: nav"></div>


<div class="container">

    <div class="row PageHead">
        <div class="col-lg-12">
            <a class="btn btn-info text-uppercase" th:href="@{/messages}">
                <span class="glyphicon glyphicon-chevron-left"></span>Back
            </a>
            <a class="btn btn-info text-uppercase" href="#" id="reply" data-toggle="modal"
               data-target="#addMessageModal">Add comment</a>
            <button id="btn_sort_by_date" class="btn btn-default"><span class="glyphicon glyphicon-calendar"></span></button>
            <button id="btn_sort_by_score" class="btn btn-default"><span class="glyphicon glyphicon-star"></span></button>
            <button id="btn_order_asc" class="btn btn-default"><span class="glyphicon glyphicon-sort-by-attributes"></span></button>
            <button id="btn_order_desc" class="btn btn-default"><span class="glyphicon glyphicon-sort-by-attributes-alt"></span></button>
            <button id="btn_privacy" class="btn btn-default"><span class="glyphicon glyphicon-lock"></span></button>
        </div>
        <hr/>
    </div>

    <div class="row">
        <th:block th:switch="${message.hasText()}">
            <div th:case="'true'">
                <div th:replace="fragments/message_line :: message_line(${message})"></div>
            </div>
            <div th:case="'false'">
                <img th:if="${message.isImage()} == true" class="item"
                     th:src="${message.mediaUrls[0].getUrl()}" th:attr="data-src=${message.mediaUrls[0].getUrl()}"/>

                <br/>
                <div class="btn-group" role="group" aria-label="Basic example">

                        <button type="button" class="btn btn-labeled" th:each="hashtag : ${message.hashtags}">
                            <div th:text="'#'+${hashtag.text}">hashtag</div>
                        </button>

                </div>
            </div>
        </th:block>
    </div>
    <hr/>
    <div class="row">
        <div class="col-lg-10 offset-lg-2">
            <div th:attr="data-message-prototype='s'" th:each="comment : ${comments}">

                <th:block th:switch="${comment.hasText()}">
                    <div th:case="'true'">
                        <div th:replace="fragments/message_line :: message_line(${comment})"></div>
                    </div>
                    <div th:case="'false'">
                        <img th:if="${comment.isImage()} == true" class="item" width="250"
                             th:src="${comment.mediaUrls[0].getUrl()}" th:attr="data-src=${comment.mediaUrls[0].getUrl()}"/>
                    </div>
                </th:block>

            </div>
        </div>
    </div>
</div>

<div th:replace="fragments/add_message_modal :: add_message_modal(${message.id})"></div>

<div th:replace="fragments/commonjs :: commonjs"></div>
<script src="/js/messages.js"></script>
</body>


</html>